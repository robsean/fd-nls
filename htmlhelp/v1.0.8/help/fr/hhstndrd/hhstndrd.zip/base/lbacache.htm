<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
 "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<title>Commande FreeDOS : lbacache</title>
<meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body>
<h1>Commande : lbacache</h1>
<pre>
  LBACACHE est un programme de cache pour disque dur. Il amÇliore
  la performance du lecteur. Il nÇcessite de la mÇmoire <a href="../base/himemx.htm">XMS</a>, et au
  moins un ordinateur 386.
</pre>
<h2>Syntaxe :</h2>
<pre>
  Pour charger    : LBACACHE  [taille] [DRV listedelecteurs] [FLOP]
                    [TUNA] [TUNW] [TUNS]
  Une fois chargÇ : LBACACHE  [INFO] [SYNC] [STOP] [STAT] [ZERO]
  Pour l'aide     : LBACACHE  HELP|/HELP|/?
</pre>
<h2>Options:</h2>
<pre>
  taille    SpÇcifie la taille du tampon. Par dÇfaut : 2048 ko. Si un ou
            deux chiffres sont utilisÇs, l'unitÇ est de 256 ko
            (en XMS), donc la la valeur par dÇfaut est d'utiliser 2
            Mo XMS. Si plus de deux chiffres sont utilisÇs, l'unitÇ est
            simplement 1 ko. Exemple :
            'LBACACHE 8192'. Autre syntaxe possible : "BUF taille" au
            lieu de "taille".
  FLOP      Active le cache des disquettes (A: et B:, autodÇtectÇs). Pour
            l'utilisation des disquettes, chargez Çgalement TICKLE !
            Veuillez faire des rapports si FLOP a des bugs. Un bug peut
            par exemple signifier que le cache fait des suppositions
            erronÇes sur la gÇomÇtrie des disquettes, ce qui peut
            provoquer des corruptions de donnÇes sur le disque ou sur
            les fichiers copiÇs depuis le disque. Cependant si vous
            utilisez uniquement des disquettes de 1,44 Mo dans un
            lecteur de 1,44 Mo, les bugs sont extràmement improbables...
  DRV list  Choisit quels disques durs seront mis en cache. Aucun disque
            ne sera mis en cache si le mot-clef NULL est utilisÇ.
            Il est fortement recommandÇ de laisser LBAcache auto-dÇtecter
            tous disques durs qu'il sera possible de mettre en cache au
            lieu d'utiliser cette option ! La liste se compose de
            chiffres en 0..7, pour les lecteurs BIOS 80h+x. Par exemple:
            023   met en cache les lecteurs BIOS 80h, 82h, 83h - les
                  premier, troisiäme et quatriäme disques durs (hda,
                  hdc, hdd dans la terminologie GNU/Linux).
            Important : Le premier disque dur BIOS signifie TOUTES les
            lettres de lecteur qui sont sur le premier disque dur
            physique.
  TUNA      Cache entiärement associatif : recherche le cache entier
            pour un secteur ou pour de l'espace libre dans le pire des
            cas. Plus lent pour les caches de grande taille mais peut
            donner plus de rÇsultats en mÇmoire cache que la nouvelle
            valeur par dÇfaut (6/2004) de recherche uniquement jusqu'Ö
            N (rÇglage actuel : 16) ÇlÇments de cache (taille actuelle
            d'un ÇlÇment : 8 ko). Les premiers tests suggärent :
            lÇgärement plus de rÇsultats de cache mais vitesse plus
            lente !
  TUNW      Alloue en Çcriture : lorsque des donnÇes sont Çcrites sur
            le disque, en stocker une copie dans le cache, M“ME si cela
            signifie d'allouer un nouvel espace dans le cache en
            anticipation d'une lecture des donnÇes plus tard. C'Çtait la
            valeur par dÇfaut jusqu'Ö 7/2004. Fait que les Çcritures
            "consomment" plus de cache, mais est utile pour les tÉches
            qui travaillent beaucoup avec les fichiers temporaires. Si
            les donnÇes Çtaient mises en cache de toute faáon, la copie
            en cache est mise Ö jour sans tenir compte de cette option.
  TUNS      Alloue 320 octets de RAM DOS basse pour les piles (nouveau
            7/2004). Utilisez cette option si vous souhaitez charger
            LBAcache dans l'UMB de JEMM386 ou autrement si vous avez un
            "UMB pas träs convivial pour DMA" et un systäme SCSI. Les
            BIOS SCSI semblent utiliser DMA pour empiler les appels de
            vÇrification de gÇomÇtrie ! Notez que cette mÇmoire n'est
            *pas* libÇrÇe par LBAcache STOP car le protocole devrait
            àtre changÇ trop en profondeur pour cela.
NON-LOAD options:
  INFO      Affiche les statistiques de cache et des dÇtails au sujet
            des LBAcache rÇsidents. Utile pour le dÇbogage, mais un peu
           difficile Ö comprendre.
  STAT      Affiche des statistiques plus faciles Ö comprendre de cache
            seulement.
  ZERO      Remet les compteurs de statistiques de cache Ö zÇro.
  SYNC      Synchronise tous les tampons LBAcache en fonctionnement pour
            tous lecteurs. Comme LBAcache ne retarde jamais les
            Çcritures, SYNC signifie simplement d'oublier les donnÇes
            mises en cache. C'est fait en appelant int 13.46 (disque
            BIOS : Çjecter) pour tous les lecteurs mettables en cache
            (0, 1, 0x80 .. 0c87). Il est recommandÇ d'exÇcuter LBACACHE
            ZERO apräs LBACACHE SYNC, cela rendra les statistiques plus
            intuitifs Ö lire.
  STOP      Ferme toutes les instances de LBAcache en fonctionnement et
            libäre la RAM XMS et DOS qu'ils avaient allouÇ (les enläve
            de la RAM). Si la chaåne d'interruption ne peut àtre
            restaurÇe, les instances de LBAcache sont laissÇes dans la
            RAM de DOS, mais Ö une taille rÇduite de < 500 octets. La
            mÇmoire XMS est toujours libÇrÇe. Lorsqu'un seul LBAcache
            est chargÇ en tant que programme rÇsident relatif au
            dernier disque, le dÇchargement complet devrait marcher la
            plupart du temps. Lors du chargement de plusieurs instances
            de LBAcache, souvent seule la derniäre instance peut àtre
            entiärement dÇchargÇe.
  COOL      Met le cache en mode "froid" : les secteurs accÇdÇs sont
            gelÇs dans le cache (autant que possible - utilisez TUNA
            pour amÇliorer l'effet). Voyez les explications de BINSEL
            pour voir si ce mode expÇrimental (9/2004) vous est utile.
  WARM      Met le cache en mode "fusion" : les secteurs accÇdÇs sont
            dÇgelÇs (dÇcongelÇs ? :-)) dans le cache. Voyez ci-dessus.
            (9/2004) Note : WARM, COOL et TEMP affichent tous une valeur
            d'Çtat de diagnostic pour le dÇbogage, par exemple le
            "nombre d'ÇlÇments verrouillÇs" actuels. Apräs cela, la
            sortie normale STAT est affichÇe.
  TEMP      Restaure le cache en mode "tempÇrature normale" : l'Çtat de
            froideur des contenus actuels est prÇservÇ autant que
            possible (si le cache devient vraiment plein, les choses
            vont fondre). Maintenant vous avez rÇservÇ la partie du
            cache pour les donnÇes gelÇes/verrouillÇes et le reste de
            l'espace du cache en mode classique. (9/2004)
</pre>
<h2>Commentaires :</h2>
<pre>
  Pour plus d'informations voyez lbacache.txt.
</pre>
<h2>Exemples :</h2>
<pre>
  Dans CONFIG.SYS / FDCONFIG.SYS:
    INSTALL=LBACACHE.COM [arguments]
  ou
    INSTALLHIGH=LBACACHE.COM [arguments]
  ou depuis la ligne de commande ou AUTOEXEC.BAT:
    LBACACHE [arguments]
  ou
    LOADHIGH LBACACHE.COM [arguments]

    LBACACHE              Lancer simplement la commande sans aucune
                          option lira le cache de tous vos disques durs
                          (si disponibles via le BIOS) avec la taille
                          de tampon de cache par dÇfaut.
    LBACACHE buf 20 flop  Cela lira le cache de tous les disques durs
                          et des disquettes, avec 5 Mo de mÇmoire pour
                          le tampon de cache.
    LBACACHE info         Affiche des informations sur vos caches.
</pre>
<h2>Voir Çgalement :</h2>
<pre>
  <a href="../base/cdrcache.htm">cdrcache.sys</a>
 (<a href="../base/fdxms.htm">fdxms</a>)
 (<a href="../base/fdxms286.htm">fdxms286</a>)
 (<a href="../base/himem.htm">himem</a>)
  <a href="../base/himemx.htm">himemx</a>
  <a href="../base/jemmex.htm">jemmex</a>
  <a href="../base/tickle.htm">tickle</a>
  <a href="../base/xmgr.htm">xmgr</a>
</pre>
<hr>
<pre>
  <b>Copyright &copy; 2004 Robert Platt, mis Ö jour en 2011 par W. Spiegl.</b>
  <b>Traduit en 2020 par Berki YenigÅn.</b>

  Ce fichier est dÇrivÇ de FreeDOS Spec Command HOWTO.
  Voyez le fichier <a href="../other/h2cpying.htm">H2Cpying</a> pour les conditions de copie.

</pre></body></html>
